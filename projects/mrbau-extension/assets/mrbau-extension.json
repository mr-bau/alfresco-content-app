{
  "$schema": "../../../extension.schema.json",
  "$id": "mrbau-extension",
  "$version": "1.0.0",
  "$vendor": "MRBau",
  "$name": "plugin-mrbau",
  "$description": "mrbau plugin desc",
  "$license": "MIT",

  "routes": [
  {
    "id": "mrbau.extension.route.main",
    "path": "ext/mrbau/main",
    "component": "mrbau-extension.main.component",
    "layout": "app.layout.main",
    "auth": ["app.auth"]
  },
  {
    "id": "mrbau.extension.route.tasks",
    "path": "ext/mrbau/tasks",
    "component": "mrbau-extension.tasks.component",
    "layout": "app.layout.main",
    "auth": ["app.auth"]
  },
  {
    "id": "mrbau.extension.route.mrid",
    "path": "mrid/:mrId",
    "component": "mrbau-extension.mrid.component",
    "layout": "app.layout.main",
    "auth": ["app.auth"]
  }
  ],
  "rules": [
    {
      "id": "mrbau.extension.rule.can-inbox-assign",
      "type": "core.every",
      "parameters": [
        { "type": "rule", "value": "mrbau.extension.rule.only-files-selected" }
      ]
    }
  ],
  "actions": [
    {
        "id": "mrbau.extension.actions.navigate-test",
        "type": "NAVIGATE_ROUTE",
        "payload": "$(['/mrid/', '10'])"
    },
    {
      "id": "mrbau.extension.actions.snakbar-test",
      "type": "SNACKBAR_INFO",
      "payload": "I'm a nice little popup raised by extension."
    },
    {
      "id": "mrbau.extension.actions.new-task-dialog",
      "type": "MRBAU_NEW_TASK_DIALOG",
      "payload": "$(context.selection)"
    },
    {
      "id": "mrbau.extension.actions.inbox-assign-dialog",
      "type": "MRBAU_INBOX_ASSIGN_DIALOG",
      "payload": "$(context.selection)"
    }
  ],
  "features": {
    "navbar": [
      {
        "id": "mrbau.extension.nav",
        "items": [
          {
            "id": "app.navbar.foerdermanager",
            "order": 500,
            "icon": "attach_money",
            "label": "Link",
            "title": "Fördermanager",
            "description": "Fördermanager",
            "route": "foerdermanager"
          },
          {
            "id": "app.navbar.belegsammlung",
            "order": 600,
            "icon": "work",
            "label": "Link",
            "title": "Belegsammlung",
            "description": "Belegsammlung",
            "route": "belege"
          },
          {
            "id": "mrbau.extension.tasks",
            "icon": "touch_app",
            "title": "Aufgaben",
            "route": "mrbau.extension.route.tasks"
          },
          {
            "id": "mrbau.extension.tools",
            "icon": "timeline",
            "title": "Anwendungen",
            "route": "mrbau.extension.route.main"
          }
        ]
      }
    ],
    "contextMenu": [
      {
        "id": "mrbau.extension.menu.new-task",
        "title": "Aufgabe erstellen",
        "order": 301,
        "icon": "build",
        "actions": {
          "click": "mrbau.extension.actions.new-task-dialog"
        },
        "rules": {
          "visible": "mrbau.extension.rule.only-files-selected"
        }
      },
      {
        "id": "mrbau.extension.menu.inbox-assign",
        "title": "Dokumente zuordnen",
        "order": 301,
        "icon": "inbox",
        "actions": {
          "click": "mrbau.extension.actions.inbox-assign-dialog"
        },
        "rules": {
          "visible": "mrbau.extension.rule.can-inbox-assign"
        }
      }
    ],
    "create": [
      {
          "id": "mrbau.extension.create.new-task",
          "type": "default",
          "icon": "build",
          "title": "Aufgabe erstellen",
          "actions": {
            "click": "mrbau.extension.actions.new-task-dialog"
          }
      }
    ]
  }
}
